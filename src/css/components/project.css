.project {
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  width: 100%;
  padding-right: var(--gutter);
  padding-left: var(--gutter);

  @media (--tablet-landscape-down) {
    margin-bottom: calc(var(--bsl) * 4);
  }

  &--is-active {
    position: relative;
    z-index: 10;
  }

  &--full {
    @media (--tablet-landscape-up) {
      flex-direction: row;
      align-items: flex-end;
      width: var(--col-8);
      margin-bottom: calc(var(--bsl) * 6);
    }

    & .project__header {
      @media (--tablet-landscape-up) {
        flex-shrink: 0;
        width: var(--col-4);
        padding: 0 var(--gutter);
      }
    }

    & .project__thumbnail {
      @media (--tablet-landscape-up) {
        width: calc(var(--col-4) - (var(--gutter) * 2));
        margin-right: var(--gutter);
      }

      &::after {
        transform: translate3d(calc(100% + 1px), 0, 0);
        transform-origin: left;
      }

      &--is-hidden {
        &::after {
          transform: translate3d(0, 0, 0);
        }
      }
    }
  }

  &--offset {
    @media (--tablet-landscape-up) {
      margin-left: var(--col-1);
    }
  }

  &--wide {
    @media (--tablet-landscape-up) {
      width: var(--col-6);
    }

    & .project__copy {
      padding-left: var(--gutter);
    }

    & .project__header {
      @media (--tablet-landscape-up) {
        display: flex;
        justify-content: space-between;
        padding-top: var(--bsl);
      }
    }

    & .project__headline {
      @media (--tablet-landscape-up) {
        flex-shrink: 0;
        width: var(--col-2);
      }
    }

    & .project__thumbnail {
      &::after {
        transform: translate3d(-100%, 0, 0);
        transform-origin: right;
      }

      &--is-hidden {
        &::after {
          transform: translate3d(0, 0, 0);
        }
      }
    }
  }

  &--narrow {
    @media (--tablet-landscape-up) {
      flex-direction: column-reverse;
      width: var(--col-4);
    }

    & .project__thumbnail {
      &::after {
        transform: translate3d(0, -100%, 0);
        transform-origin: bottom;
      }

      &--is-hidden {
        &::after {
          transform: translate3d(0, 0, 0);
        }
      }
    }
  }

  &__content {
    line-height: 0;
  }

  &__gallery {
    visibility: hidden;
    transition: transform 0s linear .25s, opacity .5s linear;

    &--is-visible {
      visibility: visible;
    }
  }

  &__header {
    padding-bottom: var(--bsl);

    @media (--tablet-landscape-down) {
      padding-top: calc(var(--bsl) / 2);
    }
  }

  &__headline {
    padding-bottom: calc(var(--bsl) / 2);
  }

  &__thumbnail {
    position: relative;
    overflow: hidden;
    line-height: 0;
    transform-origin: top left;
    transition: transform .4s cubic-bezier(.5, 0, .25, 1);

    &::after {
      background-color: var(--light-color);
      transition: transform .5s cubic-bezier(.5, 0, .25, 1);
    }

    &::before {
      background-color: var(--grey-color);
      transition: transform 1s cubic-bezier(.75, 0, 0, 1);
    }

    &::after,
    &::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
    }

    & img {
      height: 100%;
      object-fit: cover;
      object-position: left;
      transition: transform .75s cubic-bezier(.5, 0, .25, 1);
    }

    &--is-hidden {
      & img {
        opacity: 0;
        transform: scale(1.1);
        transition: transform .75s cubic-bezier(.5, 0, .25, 1), opacity 0s linear .5s;
      }
    }

    &--is-visible {
      &::before {
        transform: translate3d(100%, 0, 0);
      }
    }
  }
}